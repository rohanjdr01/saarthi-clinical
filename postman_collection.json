{
  "info": {
    "name": "Saarthi Clinical API",
    "description": "Complete API collection for Saarthi Clinical Platform - Medical document processing with Gemini 3 & OpenAI",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "saarthi-clinical-v2"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "https://process.saarthihq.com/api/v1",
      "type": "string",
      "description": "Production URL"
    },
    {
      "key": "localUrl",
      "value": "http://localhost:8787/api/v1",
      "type": "string",
      "description": "Local development URL"
    },
    {
      "key": "patientId",
      "value": "",
      "type": "string"
    },
    {
      "key": "documentId",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Health",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/health",
              "host": ["{{baseUrl}}"],
              "path": ["health"]
            },
            "description": "Check if API is running and all services are available"
          }
        }
      ]
    },
    {
      "name": "Patients",
      "item": [
        {
          "name": "Create Patient",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201 || pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('patientId', response.data.id || response.patient_id);",
                  "    console.log('Patient ID saved:', response.data.id || response.patient_id);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Mohammed Kutty\",\n  \"age\": 68,\n  \"gender\": \"male\",\n  \"caregiver\": {\n    \"name\": \"Fatima Kutty\",\n    \"relation\": \"daughter\",\n    \"contact\": \"+91-9999999999\"\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/patients",
              "host": ["{{baseUrl}}"],
              "path": ["patients"]
            },
            "description": "Create a new patient record"
          }
        },
        {
          "name": "List Patients",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/patients?limit=20&status=active",
              "host": ["{{baseUrl}}"],
              "path": ["patients"],
              "query": [
                {
                  "key": "limit",
                  "value": "20"
                },
                {
                  "key": "status",
                  "value": "active"
                }
              ]
            },
            "description": "List all patients with pagination"
          }
        },
        {
          "name": "Get Patient by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/patients/{{patientId}}",
              "host": ["{{baseUrl}}"],
              "path": ["patients", "{{patientId}}"]
            },
            "description": "Get a specific patient by ID"
          }
        },
        {
          "name": "Update Patient",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"age\": 69,\n  \"caregiver\": {\n    \"contact\": \"+91-8888888888\"\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/patients/{{patientId}}",
              "host": ["{{baseUrl}}"],
              "path": ["patients", "{{patientId}}"]
            },
            "description": "Update patient details (partial update with PATCH)"
          }
        },
        {
          "name": "Delete Patient (Archive)",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/patients/{{patientId}}",
              "host": ["{{baseUrl}}"],
              "path": ["patients", "{{patientId}}"]
            },
            "description": "Soft delete (archive) a patient"
          }
        }
      ]
    },
    {
      "name": "Documents",
      "item": [
        {
          "name": "Upload Documents",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 202 || pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.documents && response.data.documents.length > 0) {",
                  "        pm.collectionVariables.set('documentId', response.data.documents[0].id);",
                  "        console.log('Document ID saved:', response.data.documents[0].id);",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "files",
                  "type": "file",
                  "src": [],
                  "description": "Select PDF/image files to upload"
                },
                {
                  "key": "document_type",
                  "value": "pathology",
                  "type": "text",
                  "description": "Options: pathology, imaging, lab, consultation"
                },
                {
                  "key": "process_immediately",
                  "value": "false",
                  "type": "text",
                  "description": "Set to true to process with AI immediately"
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/patients/{{patientId}}/documents",
              "host": ["{{baseUrl}}"],
              "path": ["patients", "{{patientId}}", "documents"]
            },
            "description": "Upload one or more medical documents"
          }
        },
        {
          "name": "List Documents",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/patients/{{patientId}}/documents",
              "host": ["{{baseUrl}}"],
              "path": ["patients", "{{patientId}}", "documents"]
            },
            "description": "List all documents for a patient"
          }
        },
        {
          "name": "Get Document",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/patients/{{patientId}}/documents/{{documentId}}",
              "host": ["{{baseUrl}}"],
              "path": ["patients", "{{patientId}}", "documents", "{{documentId}}"]
            },
            "description": "Get document details including extracted data"
          }
        },
        {
          "name": "Download Document",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/patients/{{patientId}}/documents/{{documentId}}/download",
              "host": ["{{baseUrl}}"],
              "path": ["patients", "{{patientId}}", "documents", "{{documentId}}", "download"]
            },
            "description": "Download the original document file"
          }
        },
        {
          "name": "Delete Document",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/patients/{{patientId}}/documents/{{documentId}}",
              "host": ["{{baseUrl}}"],
              "path": ["patients", "{{patientId}}", "documents", "{{documentId}}"]
            },
            "description": "Delete a document from storage"
          }
        }
      ]
    },
    {
      "name": "Processing",
      "item": [
        {
          "name": "Process Document (Gemini)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"mode\": \"incremental\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/patients/{{patientId}}/processing/documents/{{documentId}}/process?provider=gemini",
              "host": ["{{baseUrl}}"],
              "path": ["patients", "{{patientId}}", "processing", "documents", "{{documentId}}", "process"],
              "query": [
                {
                  "key": "provider",
                  "value": "gemini",
                  "description": "AI provider: gemini (default) or openai"
                }
              ]
            },
            "description": "Process document with Gemini 3 Pro"
          }
        },
        {
          "name": "Process Document (OpenAI)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"mode\": \"incremental\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/patients/{{patientId}}/processing/documents/{{documentId}}/process?provider=openai",
              "host": ["{{baseUrl}}"],
              "path": ["patients", "{{patientId}}", "processing", "documents", "{{documentId}}", "process"],
              "query": [
                {
                  "key": "provider",
                  "value": "openai",
                  "description": "AI provider: gemini (default) or openai"
                }
              ]
            },
            "description": "Process document with OpenAI GPT-4o"
          }
        },
        {
          "name": "Get Processing Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/patients/{{patientId}}/processing/status",
              "host": ["{{baseUrl}}"],
              "path": ["patients", "{{patientId}}", "processing", "status"]
            },
            "description": "Get processing status for all patient documents"
          }
        },
        {
          "name": "Get Processing Log",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/patients/{{patientId}}/processing/log?limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["patients", "{{patientId}}", "processing", "log"],
              "query": [
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            },
            "description": "Get processing history with token usage"
          }
        }
      ]
    },
    {
      "name": "Case-Packs",
      "item": [
        {
          "name": "Get Case-Pack",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/patients/{{patientId}}/case-pack",
              "host": ["{{baseUrl}}"],
              "path": ["patients", "{{patientId}}", "case-pack"]
            },
            "description": "Get case-pack with all documents and medical highlights"
          }
        },
        {
          "name": "Update Case-Pack Metadata",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Gastric Cancer Case - Nov 2025\",\n  \"description\": \"Complete diagnostic workup for carcinoma stomach\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/patients/{{patientId}}/case-pack",
              "host": ["{{baseUrl}}"],
              "path": ["patients", "{{patientId}}", "case-pack"]
            },
            "description": "Update case-pack title and description"
          }
        },
        {
          "name": "Remove Document from Case-Pack",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/patients/{{patientId}}/case-pack/{{documentId}}",
              "host": ["{{baseUrl}}"],
              "path": ["patients", "{{patientId}}", "case-pack", "{{documentId}}"]
            },
            "description": "Remove a document from the case-pack"
          }
        },
        {
          "name": "Reorder Documents",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"document_ids\": [\"{{documentId}}\"]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/patients/{{patientId}}/case-pack/reorder",
              "host": ["{{baseUrl}}"],
              "path": ["patients", "{{patientId}}", "case-pack", "reorder"]
            },
            "description": "Reorder documents in the case-pack"
          }
        }
      ]
    },
    {
      "name": "Views",
      "item": [
        {
          "name": "Get Patient Summary",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/patients/{{patientId}}/summary",
              "host": ["{{baseUrl}}"],
              "path": ["patients", "{{patientId}}", "summary"]
            },
            "description": "Get aggregated patient summary from all processed documents"
          }
        },
        {
          "name": "Get Diagnosis & Staging",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/patients/{{patientId}}/detailed/diagnosis_staging",
              "host": ["{{baseUrl}}"],
              "path": ["patients", "{{patientId}}", "detailed", "diagnosis_staging"]
            },
            "description": "Get detailed diagnosis and staging information"
          }
        },
        {
          "name": "Get Imaging Findings",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/patients/{{patientId}}/detailed/imaging_findings",
              "host": ["{{baseUrl}}"],
              "path": ["patients", "{{patientId}}", "detailed", "imaging_findings"]
            },
            "description": "Get detailed imaging findings"
          }
        },
        {
          "name": "Get Lab Results",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/patients/{{patientId}}/detailed/lab_results",
              "host": ["{{baseUrl}}"],
              "path": ["patients", "{{patientId}}", "detailed", "lab_results"]
            },
            "description": "Get detailed lab results"
          }
        }
      ]
    },
    {
      "name": "Timeline",
      "item": [
        {
          "name": "Get Timeline",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/patients/{{patientId}}/timeline",
              "host": ["{{baseUrl}}"],
              "path": ["patients", "{{patientId}}", "timeline"]
            },
            "description": "Get chronological timeline of all medical events"
          }
        },
        {
          "name": "Get Timeline Tracks",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/patients/{{patientId}}/timeline/tracks",
              "host": ["{{baseUrl}}"],
              "path": ["patients", "{{patientId}}", "timeline", "tracks"]
            },
            "description": "Get timeline grouped by event type (tracks)"
          }
        }
      ]
    },
    {
      "name": "Intake",
      "item": [
        {
          "name": "Create Patient from Documents",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.patient) {",
                  "        pm.collectionVariables.set('patientId', response.data.patient.id);",
                  "        console.log('Patient ID saved:', response.data.patient.id);",
                  "    }",
                  "    if (response.data && response.data.documents && response.data.documents.length > 0) {",
                  "        pm.collectionVariables.set('documentId', response.data.documents[0].id);",
                  "        console.log('Document ID saved:', response.data.documents[0].id);",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "files",
                  "type": "file",
                  "src": [],
                  "description": "Upload medical documents (PDF, images)"
                },
                {
                  "key": "document_type",
                  "value": "pathology",
                  "type": "text",
                  "description": "Options: pathology, imaging, lab, consultation"
                },
                {
                  "key": "caregiver_name",
                  "value": "Fatima Kutty",
                  "type": "text"
                },
                {
                  "key": "caregiver_relation",
                  "value": "daughter",
                  "type": "text"
                },
                {
                  "key": "caregiver_contact",
                  "value": "+91-9999999999",
                  "type": "text"
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/intake",
              "host": ["{{baseUrl}}"],
              "path": ["intake"]
            },
            "description": "One-step patient creation: Upload documents, AI extracts patient demographics, creates patient record"
          }
        }
      ]
    }
  ]
}
